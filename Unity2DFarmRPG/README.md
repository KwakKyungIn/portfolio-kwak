# ğŸ“Œ ê°œìš” (Overview)

**í”„ë¡œì íŠ¸ëª…**: Unity 2D Farm RPG (ë†ì‚¬Â·ì±„ì§‘Â·ëŒ€í™” í”„ë¡œí† íƒ€ì…)<br>
**í•œ ì¤„ ì†Œê°œ**: â€œ**íƒ€ì¼ ê¸°ë°˜ ë†ì‚¬ + ìì› ì±„ì§‘ + ëŒ€í™” ì‹œìŠ¤í…œ**ì„ ë°ì´í„° ì£¼ë„ ì„¤ê³„(ScriptableObject)ë¡œ ëª¨ë“ˆí™”í•˜ê³ , **íˆ´ë°”/ì¸ë²¤í† ë¦¬/íƒ€ì„ ì‹œìŠ¤í…œ**ìœ¼ë¡œ í”Œë ˆì´ ë£¨í”„ë¥¼ ì™„ì„±í•œ 2D íƒ‘ë‹¤ìš´ RPG.â€

## ğŸ¯ ì„¤ê³„ ëª©í‘œ

* **í”Œë ˆì´ ë£¨í”„ ì™„ê²°ì„±**: ì´ë™â†’ìƒí˜¸ì‘ìš©â†’ë†ì‚¬/ì±„ì§‘â†’ì•„ì´í…œ ìˆ˜ì§‘â†’ì¸ë²¤í† ë¦¬/íˆ´ ì‚¬ìš©â†’ì„±ì¥/ëŒ€í™”â†’ì§€ì—­ ì´ë™ê¹Œì§€ **í•œ ì¤„ë¡œ ì´ì–´ì§€ëŠ” ë£¨í”„**.
* **ë°ì´í„° ì£¼ë„ ì„¤ê³„**: ì‘ë¬¼/ì•„ì´í…œ/ë°°ìš°(Actor)/ëŒ€í™” ë“±ì€ **ScriptableObject**ë¡œ ì •ì˜í•´ **ì—ë””í„° ì¹œí™”ì **(ë””ìì´ë„ˆ í˜‘ì—… ìš©ì´).
* **ëª¨ë“ˆí™” & í™•ì¥ì„±**: íˆ´ ì•¡ì…˜(`ToolAction`)Â·íƒ€ì¼ ì½ê¸°(`TileMapReadController`)Â·ìì› ë…¸ë“œ(`ResourceNode`)Â·ì‹œê°„ ì´ë²¤íŠ¸(`TimeAgent`)ë¥¼ **ë¶„ë¦¬**í•´ ì‹ ê·œ ê¸°ëŠ¥ì„ **ëœ ê±´ë“œë¦¬ê³  ì¶”ê°€**.
* **UX ìš°ì„  ë™ì‘**: í•˜ì´ë¼ì´íŠ¸Â·íˆ´ë°” íœ  ì „í™˜Â·ì•„ì´í…œ ìë™ í¡ìˆ˜Â·ë“œë˜ê·¸&ë“œë ë“± **ì†ë§›/ê°€ì‹œì„±**ì„ ì±™ê¹€.
* **ì•ˆì •ì ì¸ ì”¬ ì „í™˜**: **Additive Scene** + **Cinemachine OnTargetObjectWarped**ë¡œ ì›Œí”„/ì”¬ ì´ë™ ì‹œ **ì¹´ë©”ë¼ íŠ€ëŠ” í˜„ìƒ ìµœì†Œí™”**.

## ğŸ§­ í•µì‹¬ í”Œë ˆì´ ë£¨í”„

1. **íƒìƒ‰/ì´ë™**: ë°©í–¥í‚¤/WSADë¡œ ì´ë™, ë§ˆì§€ë§‰ ì´ë™ ë°©í–¥ì€ ì• ë‹ˆë©”ì´í„° íŒŒë¼ë¯¸í„°ë¡œ ìœ ì§€
2. **ìƒí˜¸ì‘ìš©**: ì‹œì•¼ ì „ë°© ì˜ì—­ ì›í˜• íƒì§€ â†’ `Interactable` í•˜ì´ë¼ì´íŠ¸/ì‹¤í–‰
3. **íˆ´ ì‚¬ìš©(ì›”ë“œ)**: íˆ´ë°” ì„ íƒ â†’ `ToolAction.OnApply()`ë¡œ ì£¼ë³€ ì˜¤ë¸Œì íŠ¸ íƒ€ê²© (ì˜ˆ: ë‚˜ë¬´ ë²Œëª©)
4. **íˆ´ ì‚¬ìš©(íƒ€ì¼)**: ì„ íƒ íƒ€ì¼(`Marker`)ì— Plow/Seed ì ìš© â†’ `CropsManager` ì„±ì¥ ì§„í–‰
5. **ì•„ì´í…œ ë£¨í”„**: ë“œë â†’ `PickUpItem` ìë™ í¡ìˆ˜ â†’ `ItemContainer` ì €ì¥ â†’ íˆ´ë°”ë¡œ ì‚¬ìš©/ì›”ë“œ ì¬ë“œë
6. **ëŒ€í™”**: NPC ìƒí˜¸ì‘ìš© â†’ `DialogueSystem`(íƒ€ì´í•‘ íš¨ê³¼+ì´ˆìƒí™”)
7. **ì‹œê°„**: `TimeAgent` êµ¬ë… â†’ ì‘ë¬¼ ì„±ì¥ Tick/ëœë¤ ì•„ì´í…œ ìŠ¤í°
8. **ì§€ì—­ ì´ë™**: `Transition/TransitionArea`ë¡œ ì›Œí”„/ì”¬ ì „í™˜, í”Œë ˆì´ì–´ ìœ„ì¹˜/ì¹´ë©”ë¼ ìì—°ìŠ¤ëŸ¬ìš´ ë³´ì •

## ğŸ§© ì•„í‚¤í…ì²˜ í•˜ì´ë¼ì´íŠ¸

* **Core Singletons**: `GameManager`(ì „ì—­ ì°¸ì¡°), `ItemSpawnManager`(ì›”ë“œ ë“œë), `GameSceneManager`(ì”¬ ìŠ¤ìœ„ì¹­)
* **Event ê¸°ë°˜ ì‹œê°„ íë¦„**: `TimeAgent`ê°€ `DayTimeController` êµ¬ë… â†’ onTimeTickì— **ì‘ë¬¼ ì„±ì¥/ìŠ¤í°** ì²˜ë¦¬
* **íˆ´ íŒŒì´í”„ë¼ì¸**

  * ì›”ë“œ ì˜¤ë¸Œì íŠ¸: `ToolAction.OnApply(worldPoint)` â†’ `UsingTool`(ex. `ResourceNode`)
  * íƒ€ì¼ ì•¡ì…˜: `ToolAction.OnApplyToTileMap(gridPos, TileMapReadController, Item)` â†’ `CropsManager`
  * ê³µí†µ ì†Œë¹„ í›…: `OnItemUsed(item, inventory)`ë¡œ **ë‚´êµ¬ë„/ì†Œëª¨í’ˆ/ì¿¨ë‹¤ìš´** ê°™ì€ ê·œì¹™ í™•ì¥ ìš©ì´
* **íƒ€ì¼ ê¸°ë°˜ ìƒí˜¸ì‘ìš©**: `TileMapReadController`ê°€ ìŠ¤í¬ë¦°/ì›”ë“œ ì¢Œí‘œâ†’**íƒ€ì¼ ì¢Œí‘œ** ë³€í™˜, `MarkerManager`ê°€ ì„ íƒ íƒ€ì¼ í•˜ì´ë¼ì´íŠ¸
* **UX ë””í…Œì¼**: íœ  ìŠ¤í¬ë¡¤ë¡œ íˆ´ë°” ì¸ë±ìŠ¤ ìˆœí™˜, `HighlightController`ë¡œ ìƒí˜¸ì‘ìš© íƒ€ê²Ÿ ì‹œê°í™”, `PickUpItem` **ìê¸° ìœ ë„** + TTL ê´€ë¦¬

---

# âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Features)

> ê° ê¸°ëŠ¥ì€ **í”Œë ˆì´ ê´€ì  â†’ ê¸°ìˆ  ê´€ì (í´ë˜ìŠ¤/íë¦„) â†’ í™•ì¥ í¬ì¸íŠ¸/ì—£ì§€ ì¼€ì´ìŠ¤** ìˆœìœ¼ë¡œ ì •ë¦¬.

## 1) ìºë¦­í„° ì´ë™ & ìƒí˜¸ì‘ìš©

**í”Œë ˆì´**: ì´ë™í•˜ë©´ì„œ ê·¼ì²˜ ìƒí˜¸ì‘ìš© ëŒ€ìƒì— í•˜ì´ë¼ì´íŠ¸ê°€ ì¼œì§€ê³ , ë§ˆìš°ìŠ¤/í‚¤ ì¡°ì‘ìœ¼ë¡œ ëŒ€í™”/ì±„ì§‘/ìƒìì—´ê¸° ë“±ì„ ì‹¤í–‰.

**ê¸°ìˆ **

* ì´ë™/ì• ë‹ˆë©”ì´ì…˜: `CharacterController2D`

  * `Input.GetAxisRaw()`ë¡œ ë²¡í„° ì…ë ¥ â†’ `Rigidbody2D.velocity` ë°˜ì˜
  * `lastMotionVector` ì €ì¥ â†’ ì •ì§€ ìƒíƒœì—ì„œë„ **ë§ˆì§€ë§‰ ë°”ë¼ë³´ê¸° ë°©í–¥** ìœ ì§€(ëŒ€í™”/íˆ´ ì‚¬ìš© ì‹œ UX â†‘)
* ìƒí˜¸ì‘ìš©: `CharacterInteractController`

  * **ì „ë°© ì˜¤í”„ì…‹ + ì›í˜• íƒì§€(OverlapCircleAll)** â†’ `Interactable` ê²€ìƒ‰
  * `HighlightController`ë¡œ íƒ€ê²Ÿ í‘œì‹œ, ìš°í´ë¦­ìœ¼ë¡œ `Interactable.Interact(character)` í˜¸ì¶œ

**í™•ì¥/ì—£ì§€**

* ìƒí˜¸ì‘ìš© **ìš°ì„ ìˆœìœ„(ê±°ë¦¬/ê°ë„/íƒœê·¸)** ì˜µì…˜í™”
* ì¸í„°ë™ì…˜ ë²”ìœ„/ë ˆì´ì–´ **í”„ë¡œíŒŒì¼**ë¡œ ë¶„ë¦¬ (ì „íˆ¬/ë†ì‚¬ ëª¨ë“œ ì „í™˜ ë“±)

---

## 2) ë†ì‚¬(Plowâ†’Seedâ†’Growâ†’Harvest)

**í”Œë ˆì´**: ê´­ì´ë¡œ ë°­ì„ ê°ˆê³ , ì”¨ì•—ì„ ì‹¬ìœ¼ë©´ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ìŠ¤í”„ë¼ì´íŠ¸ê°€ ì„±ì¥ ë‹¨ê³„ë³„ë¡œ ë°”ë€Œë©°, ìˆ˜í™• íƒ€ì´ë°ì„ ì œê³µ.

**ê¸°ìˆ **

* ë°ì´í„°: `Crop`(ì„±ì¥ ì´ ì‹œê°„, ë‹¨ê³„ë³„ ì‹œê°„Â·ìŠ¤í”„ë¼ì´íŠ¸, ìˆ˜í™• ì‚°ì¶œë¬¼/ê°œìˆ˜)
* íƒ€ì¼ ì•¡ì…˜: `PlowTile`, `SeedTile` (ë‘˜ ë‹¤ `ToolAction` ìƒì†)

  * `PlowTile`: í—ˆìš© íƒ€ì¼ë§Œ(`canPlow`) ë°­ê°ˆê¸° â†’ `CropsManager.Plow()`ë¡œ **CropTile ìƒì„± + íƒ€ì¼ë§µ ë³€ê²½**
  * `SeedTile`: `CropsManager.Check()`ë¡œ ë°­ ì—¬ë¶€ í™•ì¸ í›„ **ì”¨ì•— ì‹¬ê¸°**, `OnItemUsed()`ë¡œ ì”¨ì•— ì†Œëª¨
* ì‹œê°„ ì´ë²¤íŠ¸: `CropsManager : TimeAgent`

  * `onTimeTick`ì—ì„œ `growTimer/growStage` ì§„í–‰, ë‹¨ê³„ë³„ ìŠ¤í”„ë¼ì´íŠ¸ ì ìš©
  * **ì™„ì „ ì„±ì¥** ì‹œ `crop = null`ë¡œ ë‹¤ìŒ ìƒíƒœ(ìˆ˜í™•/ì œê±°) ì „í™˜ ì¤€ë¹„

**í™•ì¥/ì—£ì§€**

* **ê³„ì ˆ/ìˆ˜ë¶„/ë¹„ë£Œ/ë³‘ì¶©í•´** íŒŒë¼ë¯¸í„° ì¶”ê°€ (ì„±ì¥ ê°€ì¤‘ì¹˜)
* ìˆ˜í™• ì•¡ì…˜(ì˜ˆ: ë‚«) ë³„ë„ë¡œ ë¶„ë¦¬, ë£¨íŒ… ë³´ìƒ `Item` ë‹¤ë³€í™”
* **ë™ì‹œ íƒ€ì¼ ê°±ì‹ ** ì‹œ íƒ€ì¼ë§µ ë“œë¡œìš° ì½œ/ì˜¤ë¸Œì íŠ¸ í’€ ê³ ë ¤

---

## 3) ìì› ì±„ì§‘(Tree/Ore ë“±)

**í”Œë ˆì´**: ë„ë¼/í”½ ë“± ë§ëŠ” ë„êµ¬ë¡œ ë…¸ë“œë¥¼ íƒ€ê²©í•˜ë©´ ì•„ì´í…œì´ ë¿Œë ¤ì§€ê³ , ë…¸ë“œëŠ” íŒŒê´´ë¨.

**ê¸°ìˆ **

* ë…¸ë“œ: `ResourceNode : UsingTool`

  * `nodeType(Tree/Ore)`ì— ë”°ë¼ `GatherResourceNode.canHitNodesOfType`ê³¼ ë§¤ì¹­
  * `Hit()` â†’ **ëœë¤ ìŠ¤í”„ë ˆë“œ**ë¡œ ë“œë ì‚°í¬ â†’ `ItemSpawnManager.SpawnItem()`
* íˆ´ ì•¡ì…˜: `GatherResourceNode : ToolAction`

  * ì „ë°© ì›í˜• íƒì§€ â†’ `UsingTool` ê°€ì ¸ì™€ `CanBeHit()` ì²´í¬ â†’ `Hit()` ì‹¤í–‰

**í™•ì¥/ì—£ì§€**

* **ë…¸ë“œ ë‚´êµ¬ë„/ìƒíƒœ ë¨¸ì‹ **(ê¹¨ì§ ë‹¨ê³„), ë¦¬ìŠ¤í° íƒ€ì´ë¨¸
* ë„êµ¬ \*\*ë“±ê¸‰(ëª©/ì„/ì² )\*\*ì— ë”°ë¥¸ íš¨ìœ¨/ê°€ëŠ¥ ì—¬ë¶€
* ë“œë í…Œì´ë¸” **í™•ë¥  ê°€ì¤‘ì¹˜**/í¬ê·€ ë“œë

---

## 4) ì•„ì´í…œÂ·ì¸ë²¤í† ë¦¬Â·íˆ´ë°”

**í”Œë ˆì´**: ì•„ì´í…œì´ ë°”ë‹¥ì— ë–¨ì–´ì§€ê³ , ê·¼ì²˜ë©´ ìë™ìœ¼ë¡œ ë¹¨ë ¤ ë“¤ì–´ì™€ ì¸ë²¤í† ë¦¬ì— ìŒ“ì¸ë‹¤. `I`ë¡œ ì¸ë²¤í† ë¦¬ í† ê¸€, íœ ë¡œ íˆ´ë°” ìŠ¤ì™‘, ìŠ¬ë¡¯ ë“œë˜ê·¸/ë“œëìœ¼ë¡œ ì •ë¦¬í•˜ê±°ë‚˜ ë°”ë‹¥ì— ë²„ë¦´ ìˆ˜ ìˆë‹¤.

**ê¸°ìˆ **

* ë°ì´í„°: `Item`(stackable, icon, onAction/onTileMapAction/onItemUsed, ì—°ê²° ì‘ë¬¼ `crop`)
* ì €ì¥: `ItemContainer` + `ItemSlot`

  * ìŠ¤íƒ/ë¹„ìŠ¤íƒ **ë¶„ê¸°**ê°€ êµ¬í˜„ë˜ì–´ ìˆìŒ (ìŠ¬ë¡¯ ê²€ìƒ‰, ì¹´ìš´íŠ¸ ì¦ê°/í´ë¦¬ì–´)
* ìŠµë“: `PickUpItem`

  * í”Œë ˆì´ì–´ì™€ **ê±°ë¦¬ ì„ê³„** ë‚´ë©´ `MoveTowards()`ë¡œ í¡ìˆ˜, TTL ì§€ë‚˜ë©´ ì†Œë©¸
  * `GameManager.inventoryContainer.Add(item,count)`
* UI/ì¡°ì‘:

  * `InventoryController`(Ií‚¤ë¡œ Panel/Toolbar í† ê¸€)
  * `ItemPannel`/`ItemToolbarPannel`(ë²„íŠ¼-ìŠ¬ë¡¯ ë°”ì¸ë”©, ì„ íƒ í•˜ì´ë¼ì´íŠ¸)
  * `ItemDragAndDropController`(ë§ˆìš°ìŠ¤ ë”°ë¼ë‹¤ë‹ˆëŠ” ì•„ì´ì½˜, **UI ë°– í´ë¦­ ì‹œ ì›”ë“œ ë“œë**)
  * `ToolBarController`(íœ  ì…ë ¥ìœ¼ë¡œ ì¸ë±ìŠ¤ ìˆœí™˜, `GetItem` ì œê³µ)

**í™•ì¥/ì—£ì§€**

* ì¥ë¹„/íˆ´ ë‚´êµ¬ë„(`OnItemUsed`) ì‹¤ì œ ê°ì†Œ, ìŠ¤íƒ ë¶„í• (Split)
* ì•„ì´í…œ ì„¤ëª… íˆ´íŒ/í€µìŠ¬ë¡¯ í‚¤ ë§¤í•‘(1\~0)
* ì¸ë²¤í† ë¦¬ **ì •ë ¬/í•„í„°**(ì†Œë¹„/ì¬ë£Œ/í€˜ìŠ¤íŠ¸)

---

## 5) ëŒ€í™” ì‹œìŠ¤í…œ

**í”Œë ˆì´**: NPCì— ì ‘ê·¼í•´ ìƒí˜¸ì‘ìš©í•˜ë©´ **íƒ€ì´í•‘ íš¨ê³¼**ë¡œ ëŒ€ì‚¬ê°€ ì¶œë ¥ë˜ê³ , **ë°°ìš° ì´ë¦„/ì´ˆìƒí™”**ê°€ í•¨ê»˜ í‘œì‹œëœë‹¤.

**ê¸°ìˆ **

* ë°ì´í„°: `Actor`(ì´ë¦„/ì´ˆìƒí™”), `DialogueContainer`(ëŒ€ì‚¬ ë¼ì¸ ë°°ì—´)
* ë¡œì§: `DialogueSystem`

  * í´ë¦­ìœ¼ë¡œ **íƒ€ì´í•‘ ìŠ¤í‚µ â†’ ë‹¤ìŒ ë¼ì¸**
  * `Initialize()`ì—ì„œ UI ì—´ê³  `UpdatePortrait()`ë¡œ ë°°ìš° ì •ë³´ ê°±ì‹ 
* ì§„ì…: `TalkInteract : Interactable`ê°€ `GameManager.dialogueSystem.Initialize(dialogue)` í˜¸ì¶œ

**í™•ì¥/ì—£ì§€**

* **ë¶„ê¸°/ì„ íƒì§€**, ë³€ìˆ˜ ì¹˜í™˜(í”Œë ˆì´ì–´ ì´ë¦„, ì¸ë²¤í† ë¦¬ ì²´í¬), í€˜ìŠ¤íŠ¸ íŠ¸ë¦¬ê±°
* ëŒ€ì‚¬ ë¡œê·¸/Auto-Advance/ìŠ¤í‚µ

---

## 6) ì”¬/ì§€ì—­ ì „í™˜ & ì¹´ë©”ë¼

**í”Œë ˆì´**: íŠ¹ì • êµ¬ì—­ì— ë“¤ì–´ê°€ë©´ ì›Œí”„í•˜ê±°ë‚˜, ë‹¤ë¥¸ ì”¬ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì´ë™.

**ê¸°ìˆ **

* íŠ¸ë¦¬ê±°: `TransitionArea`(Player íƒœê·¸ ê°ì§€ í›„ ìƒìœ„ `Transition` í˜¸ì¶œ)
* ì „í™˜: `Transition`

  * **Warp**: ìì‹ Transform ëª©ì ì§€ ì¢Œí‘œë¡œ ì´ë™ + `CinemachineBrain.ActiveVirtualCamera.OnTargetObjectWarped()` í˜¸ì¶œë¡œ ì¹´ë©”ë¼ ë³´ì •
  * **Scene**: `GameSceneManager.SwitchScene()`(Additive Load/Unload) + ëª©í‘œ ì¢Œí‘œ ë°°ì¹˜, ì¹´ë©”ë¼ ë³´ì •

**í™•ì¥/ì—£ì§€**

* ì”¬ í˜ì´ë“œ, í¬ìŠ¤íŠ¸ í”„ë¡œì„¸ì‹± ì „í™˜
* **ì„¸ì´ë¸Œ í¬ì¸íŠ¸**/ë¦¬ìŠ¤í° ì§€ì  ê´€ë¦¬

---

## 7) ì‹œê°„ ì‹œìŠ¤í…œ & ì›”ë“œ ì´ë²¤íŠ¸

**í”Œë ˆì´**: ì‹œê°„ì´ íë¥´ë©° ì‘ë¬¼ì´ ì„±ì¥í•˜ê³ , ê°€ë”ì”© ìì›ì´ ë–¨ì–´ì§„ë‹¤.

**ê¸°ìˆ **

* êµ¬ë…ì: `TimeAgent`(ì„ì˜ ì˜¤ë¸Œì íŠ¸ê°€ ì‰½ê²Œ `onTimeTick`ì„ **êµ¬ë…/í•´ì§€**)
* ë°œí–‰ì: `DayTimeController`(ì½”ë“œ ì™¸ë¶€) â€” `GameManager.timeController.Subscribe/Unsubscribe`
* ì†Œë¹„ì²˜: `CropsManager`(ì„±ì¥), `ItemSpawner`(í™•ë¥  ìŠ¤í°)

**í™•ì¥/ì—£ì§€**

* **ë‚®/ë°¤/ë‚ ì”¨/ê³„ì ˆ** íŒŒë¼ë¯¸í„°ë¡œ ì‹œìŠ¤í…œ ì „ë°˜ ê°€ì¤‘ì¹˜ ì ìš©
* í‹± ì£¼ê¸°/ë¶€í•˜ ë¶„ì‚°(ëŒ€ëŸ‰ íƒ€ì¼/ì˜¤ë¸Œì íŠ¸)

---

## 8) ìƒì/ì˜¤ë¸Œì íŠ¸ ìƒí˜¸ì‘ìš©

**í”Œë ˆì´**: ìƒìë¥¼ ì—´ë©´ ì™¸í˜•ì´ ë°”ë€ë‹¤. (ë£¨íŒ… ê¸°ëŠ¥ì€ í›„ì† í™•ì¥)

**ê¸°ìˆ **

* `LootContainerInteract : Interactable`

  * ìµœì´ˆ ìƒí˜¸ì‘ìš© ì‹œ **ë‹«í˜â†’ì—´ë¦¼** ìƒíƒœ ì „í™˜(í”„ë¦¬íŒ¹ ìŠ¤ì™‘)

**í™•ì¥/ì—£ì§€**

* ì¸ë²¤í† ë¦¬ ì—°ë™(ìƒì ì»¨í…Œì´ë„ˆ), ì ê¸ˆ/í‚¤ ì‹œìŠ¤í…œ, ë“œë í…Œì´ë¸”

---

# ğŸ–¼ ê¶Œì¥ ìŠ¤í¬ë¦°ìƒ· & ì‹œì—° ì˜ìƒ ì»· 


1. **ë©”ì¸ ë£¨í”„ ì½¤ë³´ ì»·**

   * â‘  ë°­ê°ˆê¸° Marker í•˜ì´ë¼ì´íŠ¸, â‘¡ ì”¨ì•— ì‹¬ì€ ì§í›„, â‘¢ ì„±ì¥ ë‹¨ê³„ ë¹„êµ(ìŠ¤í”„ë¼ì´íŠ¸ ë³€í™”), â‘£ ìˆ˜í™• ì•„ì´í…œ ë“œë/í¡ìˆ˜
2. **ì±„ì§‘ ì»·**

   * ë„ë¼ë¡œ ë‚˜ë¬´ íƒ€ê²© ì§í›„ ëª©ì¬ ë“œëì´ ì£¼ë³€ì— ë¿Œë ¤ì§€ëŠ” ì¥ë©´(ì‚°í¬ ë³´ì´ê²Œ)
3. **ì¸ë²¤í† ë¦¬/íˆ´ë°”**

   * I í‚¤ë¡œ í† ê¸€ëœ ì¸ë²¤í† ë¦¬ + ë“œë˜ê·¸ ì¤‘ ì•„ì´ì½˜, íœ ë¡œ íˆ´ë°” ìŠ¬ë¡¯ í•˜ì´ë¼ì´íŠ¸ ì´ë™
4. **ëŒ€í™” UI**

   * ë°°ìš° ì´ˆìƒí™”/ì´ë¦„/íƒ€ì´í•‘ íš¨ê³¼ê°€ ë“œëŸ¬ë‚˜ëŠ” í”„ë ˆì„
5. **ì”¬/ì›Œí”„ ì „í™˜**

   * ì „í™˜ ì§€ì (Trigger)ê³¼ ì´ë™ ì§í›„ ì¹´ë©”ë¼ ì•ˆì •ì ìœ¼ë¡œ ë¶™ëŠ” ì»·(ì „í™˜ ì „/í›„)

**ì‹œì—° ì˜ìƒ ì‹œë‚˜ë¦¬ì˜¤**
`ë§ˆì„ â†’ ë°­ ì›Œí”„ â†’ Plow/Seed â†’ NPC ëŒ€í™” â†’ íƒ€ì„ ìŠ¤í‚µ(ì„±ì¥ í™•ì¸) â†’ ResourceNode ì±„ì§‘ â†’ ì•„ì´í…œ ìë™ í¡ìˆ˜ â†’ ì¸ë²¤ ì •ë¦¬/ì›”ë“œ ë“œë â†’ ë‹¤ë¥¸ ì§€ì—­ìœ¼ë¡œ ì”¬ ì „í™˜`

---

## ğŸ— ì•„í‚¤í…ì²˜ ê°œìš”

ì´ í”„ë¡œì íŠ¸ì˜ ì „ì²´ êµ¬ì¡°ëŠ” **í”Œë ˆì´ì–´ ë£¨í”„**, **ì›”ë“œ ì‹œìŠ¤í…œ**, **ì•„ì´í…œ ë£¨í”„**, **ì½”ì–´ ë§¤ë‹ˆì €** ë„¤ ê°€ì§€ ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ ëª¨ë“ˆí™”ë˜ì–´ ìˆë‹¤.
ì•„ë˜ ì»´í¬ë„ŒíŠ¸ ë‹¤ì´ì–´ê·¸ë¨ì€ ì£¼ìš” ì‹œìŠ¤í…œ ê°„ì˜ ê´€ê³„ì™€ ë°ì´í„°/ì´ë²¤íŠ¸ íë¦„ì„ í•œëˆˆì— ë³´ì—¬ì¤€ë‹¤.

ğŸ“Š ë‹¤ì´ì–´ê·¸ë¨:
![Unity2D\_FarmRPG\_Component](./assets/Unity2D_FarmRPG_Component.svg)
![Unity2D\_FarmRPG\_Component](./assets/Unity2D_FarmRPG_Architecture.svg)
---

### ğŸ® í”Œë ˆì´ì–´ ë£¨í”„

* **ì…ë ¥ ê¸°ë°˜ ì œì–´**: `CharacterController2D`ê°€ ì´ë™ê³¼ ì• ë‹ˆë©”ì´ì…˜ì„ ë‹´ë‹¹
* **ìƒí˜¸ì‘ìš©**: `CharacterInteractController`ê°€ ì£¼ë³€ `Interactable` ì˜¤ë¸Œì íŠ¸ íƒì§€ â†’ `TalkInteract`, `LootContainerInteract`, `ResourceNode`ì™€ ì—°ê²°
* **íˆ´ ì‚¬ìš©**: `ToolsCharacterController`ê°€ íˆ´ë°”(`ToolBarController`)ì—ì„œ ì„ íƒëœ ì•„ì´í…œì„ ë°”íƒ•ìœ¼ë¡œ

  * ì›”ë“œ ì•¡ì…˜(`GatherResourceNode`)
  * íƒ€ì¼ ì•¡ì…˜(`PlowTile`, `SeedTile`) ì‹¤í–‰
* **ê²°ê³¼**: ì‘ë¬¼ ì‹¬ê¸°/ì„±ì¥, ìì› ì±„ì§‘, ëŒ€í™” ì‹œì‘, ìƒì ì—´ê¸° ë“± í”Œë ˆì´ ë£¨í”„ê°€ ì™„ê²°ë¨

---

### ğŸŒ ì›”ë“œ ì‹œìŠ¤í…œ

* **ë†ì‚¬ ì‹œìŠ¤í…œ**:

  * `CropsManager`ê°€ `TimeAgent`ë¥¼ í†µí•´ ì‹œê°„ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…
  * Plow/Seed ì•¡ì…˜ ê²°ê³¼ë¥¼ íƒ€ì¼ë§µ(`TileMapReadController`)ì— ë°˜ì˜
  * `MarkerManager`ê°€ ì„ íƒ íƒ€ì¼ì„ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œ
* **ìì› ì‹œìŠ¤í…œ**:

  * `ResourceNode`(ë‚˜ë¬´/ê´‘ì„)ê°€ `GatherResourceNode` íˆ´ ì•¡ì…˜ì— ë°˜ì‘
  * `Hit()` í˜¸ì¶œ ì‹œ `ItemSpawnManager`ë¥¼ í†µí•´ ì•„ì´í…œ ë“œë

---

### ğŸ’ ì•„ì´í…œ ë£¨í”„

* **ë“œë**: `ItemSpawner`ë‚˜ `ResourceNode`ì—ì„œ `ItemSpawnManager`ë¥¼ í†µí•´ ì›”ë“œì— `PickUpItem` ìƒì„±
* **ìŠµë“**: í”Œë ˆì´ì–´ ì ‘ê·¼ ì‹œ `PickUpItem`ì´ ìë™ìœ¼ë¡œ ì¸ë²¤í† ë¦¬(`ItemContainer`)ì— ì•„ì´í…œì„ ì¶”ê°€
* **ê´€ë¦¬**: `InventoryController`ë¡œ ì¸ë²¤í† ë¦¬/íˆ´ë°” UIë¥¼ í† ê¸€, `ItemPannel`ê³¼ `ItemToolbarPannel`ë¡œ ìŠ¬ë¡¯/ë²„íŠ¼ í‘œì‹œ
* **ì¡°ì‘**: `ItemDragAndDropController`ë¡œ ë“œë˜ê·¸Â·ë“œë ë° ì›”ë“œ ì¬ë°°ì¹˜ ì§€ì›
* **ì‚¬ìš©/ì†Œëª¨**: íˆ´ë°” ì„ íƒ â†’ `ToolAction.OnApply()` ì‹¤í–‰ â†’ í•„ìš” ì‹œ `OnItemUsed()`ë¡œ ì†Œëª¨ ì²˜ë¦¬

---

### ğŸ›  ì½”ì–´ ë§¤ë‹ˆì €

* **GameManager**: ì „ì—­ ë‹¨ì¼ ì§„ì…ì , Player/Inventory/Dialogue/TimeControllerë¥¼ ë³´ê´€
* **GameSceneManager**: ì”¬ ì „í™˜ ë‹´ë‹¹ (Additive ë¡œë”© + í”Œë ˆì´ì–´ ìœ„ì¹˜ ê°±ì‹ )
* **TimeAgent / DayTimeController**: ì£¼ê¸°ì  Tick ì´ë²¤íŠ¸ ë°œí–‰ ë° êµ¬ë…, ì‘ë¬¼ ì„±ì¥Â·ì•„ì´í…œ ìŠ¤í° ë“± ì²˜ë¦¬
* **ItemSpawnManager**: ì „ì—­ ì•„ì´í…œ ë“œë ê´€ë¦¬, Prefab ê¸°ë°˜ `PickUpItem` ì†Œí™˜



---

## ğŸ›  ëŒ€í‘œ ì½”ë“œ ìŠ¤ë‹ˆí«

### 1) ì‘ë¬¼ ì„±ì¥ ê´€ë¦¬ (`CropsManager.cs`)

```csharp
private void Tick()
{
    foreach (CropTile cropTile in crops.Values)
    {
        if(cropTile.crop == null) continue;

        cropTile.growTimer += 1;

        if(cropTile.growTimer >= cropTile.crop.growthStageTime[cropTile.growStage])
        {
            cropTile.renderer.gameObject.SetActive(true);
            cropTile.renderer.sprite = cropTile.crop.sprites[cropTile.growStage];
            cropTile.growStage += 1;
        }
        if(cropTile.growTimer >= cropTile.crop.timeToGrow)
        {
            Debug.Log("ìë„ ì¤€ë¹„ ë.");
            cropTile.crop = null;
        }
    }
}
```

âœ” `TimeAgent`ì˜ tick ì´ë²¤íŠ¸ë§ˆë‹¤ í˜¸ì¶œ â†’ ì‘ë¬¼ ì„±ì¥ ë‹¨ê³„ ì§„í–‰.

---

### 2) ì•„ì´í…œ íšë“ (`PickUpItem.cs`)

```csharp
private void Update()
{
    ttl -= Time.deltaTime;
    if (ttl <0) Destroy(gameObject);

    float distance = Vector3.Distance(transform.position, player.position);
    if (distance > PickUpDistance) return;

    transform.position = Vector3.MoveTowards(
        transform.position,
        player.position,
        speed * Time.deltaTime
    );

    if (distance < 0.1f)
    {
        GameManager.instance.inventoryContainer.Add(item, count);
        Destroy(gameObject);
    }
}
```

âœ” í”Œë ˆì´ì–´ ê·¼ì ‘ â†’ ì•„ì´í…œ ìë™ ìŠµë“, ì¸ë²¤í† ë¦¬ì— ì¶”ê°€.

---

### 3) NPC ëŒ€í™” (`DialogueSystem.cs`)

```csharp
public void Initialize(DialogueContainer dialogueContainer)
{
    Show(true);
    currentDialogue = dialogueContainer;
    currentTextLine = 0;
    CycleLine();
    UpdatePortrait();
}
```

âœ” ëŒ€í™” ì‹œì‘ ì‹œ UI í‘œì‹œ, ëŒ€ì‚¬ ë¼ì¸ ìˆœì°¨ ì¶œë ¥, ì´ˆìƒí™” ê°±ì‹ .

---

### 4) íˆ´ ì‚¬ìš© (`ToolsCharacterController.cs`)

```csharp
private bool UseToolWorld()
{
    Vector2 position = rgbd2d.position + character.lastMotionVector * offsetDistance;
    Item item = toolbarController.GetItem;
    if(item == null || item.onAction == null) return false;

    bool complete = item.onAction.OnApply(position);
    if (complete && item.onItemUsed != null)
    {
        item.onItemUsed.OnItemUsed(item, GameManager.instance.inventoryContainer);
    }
    return complete;
}
```

âœ” íˆ´ë°”ì—ì„œ ì„ íƒëœ ì•„ì´í…œì„ ì‚¬ìš© â†’ ì›”ë“œ/íƒ€ì¼ì— íˆ´ ì•¡ì…˜ ì ìš©.

---

## ğŸ”® í–¥í›„ ê°œì„  ë°©í–¥

* **ê²Œì„ í”Œë ˆì´ í™•ì¥**: í€˜ìŠ¤íŠ¸/ìŠ¤í† ë¦¬ ì¶”ê°€, ëª¬ìŠ¤í„° ì „íˆ¬ ë“± RPG ìš”ì†Œ í™•ëŒ€
* **ë°ì´í„° ì£¼ë„ ì„¤ê³„**: ScriptableObject ê¸°ë°˜ DBë¥¼ í™•ì¥í•´ ë” ë§ì€ ì•„ì´í…œ/ì‘ë¬¼/NPC ê´€ë¦¬
* **ì„¸ì´ë¸Œ/ë¡œë“œ ì‹œìŠ¤í…œ**: í”Œë ˆì´ì–´ ìƒíƒœ, ì¸ë²¤í† ë¦¬, ì›”ë“œ ì‹œê°„ ì €ì¥/ë³µì›
* **UI ê³ ë„í™”**: ì¸ë²¤í† ë¦¬ ì •ë ¬, ì•„ì´í…œ íˆ´íŒ, ëŒ€í™” ë¶„ê¸° ì‹œìŠ¤í…œ

---
